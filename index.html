<html>
    <head>
        <link rel="stylesheet" href="https://use.typekit.net/jsx0qpi.css">
        <style>
            body {
                margin: 0;
                padding: 0;
                background-color: #262626;
                height: 100%;
                width: 100%;
                font-family: "neue-kabel", sans-serif;
                font-weight: 800;
                font-style: normal;
            }

            #textarea {
                height: 75%;
                width: 75vw;
                font-size: 130px;
                background-color: #262626;
                font-family: "neue-kabel", sans-serif;
                font-weight: 800;
                font-style: normal;
                overflow: scroll;
                color: white;
                white-space: pre-wrap;      /* CSS3 */   
                white-space: -moz-pre-wrap; /* Firefox */    
                white-space: -pre-wrap;     /* Opera <7 */   
                white-space: -o-pre-wrap;   /* Opera 7 */    
                word-wrap: break-word;      /* IE */
                background-color: white;
                background-repeat: no-repeat;
                background-size: cover;
                background-position: center;
                color: transparent;
                background-clip: text;
                -webkit-background-clip: text;
            }

            .background-rough {
                background-image: url('images/pattern1.png');
            }

            .background-leaves {
                background-image: url('images/pattern2.webp');
            }

            .background-party {
                background-image: url('images/pattern3.avif');
            }

            .background-flowers {
                background-image: url('images/pattern4.avif');
            }

            .background-strawberry {
                background-image: url('images/pattern5.jpg');
            }
            
            .container {
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                gap: 1em;
                position: relative;
            }

            #input {
                border-radius :3px;
                font-size:3em;
                width: 75vw;
                background-color: black;
                color: white;
                font-family: "neue-kabel", sans-serif;
                font-weight: 800;
                font-style: normal;
            }

            #theme-input {
                border-radius: 3px;
                font-size: 3em;
                background-color: black;
                color: white;
                font-family: "neue-kabel", sans-serif;
                font-weight: 800;
                font-style: normla;
            }

            #hashtag {
                color: #abc5ff;
                width: 75vw;
                text-align: left;
                font-size: 1.5rem;
            }

            .theme {
                color: white;
            }

            .hint {
                color: white;
                font-size: 2em;
            }

            .horizontal-container {
                display: flex;
                justify-content: space-between;
                width: 75%;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div id="textarea"></div>
            <div id="hashtag">#defineyourdyslexia</div>
            <div class="horizontal-container">
                <input id="input">
                <select id="theme-input" name="cars" id="cars">
                    <option value=""></option>
                    <option value="background-rough">Rough</option>
                    <option value="background-leaves">Leaves</option>
                    <option value="background-party">Party</option>
                    <option value="background-flowers">Flowers</option>
                    <option value="background-strawberry">Strawberry</option>
                  </select>
            </div>
            
            <p class="hint">Share your screenshot!</p>
        </div>
    </body>
    <script>
        const renderThisHtml = `<em>I</em> like <span style="font-family: neue-kabel, sans-serif; font-size: 48px; color:white; text-shadow:0 0 2px blue;">cheese</span> ðŸ§€`;

        const textarea = document.getElementById('textarea');
        const textinput = document.getElementById('input');
        const radioButtons = document.querySelectorAll('input[name="theme"]');
        const canvas = document.getElementById('myCanvas');
        const themeInput = document.getElementById('theme-input');
        let selectedTheme;

        themeInput.addEventListener("change", (event) => {
            console.log(event);
            // remove previous theme
            textarea.classList.remove(selectedTheme);
            selectedTheme = event.target.value;
            textarea.classList.add(selectedTheme);

            console.log(textarea.classList);
        });

        input.addEventListener('change', (event) => {
            textarea.textContent = event.target.value;
            changefontsize();
        })

        input.addEventListener('keyup', (event) => {
            textarea.textContent = event.target.value;
            changefontsize();
        })

        function changefontsize() {
            var myInput = document.getElementById('textarea');
            if (isOverflown(myInput)) {
                while (isOverflown(myInput)){
                currentfontsize--;
                myInput.style.fontSize = currentfontsize + 'px';
                }
            } else {
                currentfontsize = 130;
                myInput.style.fontSize = currentfontsize + 'px';
                while (isOverflown(myInput)){
                currentfontsize--;
                myInput.style.fontSize = currentfontsize + 'px';
                }
            }	
        }

        function isOverflown(element) {
            return element.scrollHeight > element.clientHeight;
        }
    </script>
</html>
